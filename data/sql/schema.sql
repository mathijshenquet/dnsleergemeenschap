CREATE TABLE blog_posts (id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL, body TEXT NOT NULL, private TINYINT(1) DEFAULT '0', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE links (id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL, image VARCHAR(255) NOT NULL, url TEXT NOT NULL, is_active TINYINT(1) DEFAULT '1' NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE tag (id BIGINT AUTO_INCREMENT, name VARCHAR(100), is_triple TINYINT(1), triple_namespace VARCHAR(100), triple_key VARCHAR(100), triple_value VARCHAR(100), INDEX name_idx (name), INDEX triple1_idx (triple_namespace), INDEX triple2_idx (triple_key), INDEX triple3_idx (triple_value), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE tagging (id BIGINT AUTO_INCREMENT, tag_id BIGINT NOT NULL, taggable_model VARCHAR(30), taggable_id BIGINT, INDEX tag_idx (tag_id), INDEX taggable_idx (taggable_model, taggable_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE chicken (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE expert (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, type VARCHAR(255) DEFAULT 'ouder', profession VARCHAR(255) NOT NULL, description TEXT, email VARCHAR(255) NOT NULL, active TINYINT(1) DEFAULT '0', PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE expert_kernbegrip (expert_id BIGINT, kernbegrip_id BIGINT, PRIMARY KEY(expert_id, kernbegrip_id)) ENGINE = INNODB;
CREATE TABLE help_article (id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL, body TEXT NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE idea_item (id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL, body TEXT NOT NULL, type VARCHAR(255) NOT NULL, parent_id BIGINT, user_id BIGINT NOT NULL, INDEX parent_id_idx (parent_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE idea_response (id BIGINT AUTO_INCREMENT, body TEXT NOT NULL, user_id BIGINT NOT NULL, item_id BIGINT NOT NULL, INDEX item_id_idx (item_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE leerlijn_domein (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, summary VARCHAR(255), description TEXT, image VARCHAR(255), vak_id BIGINT NOT NULL, INDEX vak_id_idx (vak_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE leerlijn_eindterm (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, summary VARCHAR(255), description TEXT, image VARCHAR(255), domein_id BIGINT NOT NULL, INDEX domein_id_idx (domein_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE leerlijn_kern (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, summary VARCHAR(255), description TEXT, image VARCHAR(255), leergebied_id BIGINT NOT NULL, INDEX leergebied_id_idx (leergebied_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE leerlijn_kernbegrip (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, summary VARCHAR(255), description TEXT, image VARCHAR(255), thema_id BIGINT, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE leerlijn_kernbegrip_eindterm (kernbegrip_id BIGINT, eindterm_id BIGINT, PRIMARY KEY(kernbegrip_id, eindterm_id)) ENGINE = INNODB;
CREATE TABLE leerlijn_kernbegrip_kern (kernbegrip_id BIGINT, kern_id BIGINT, PRIMARY KEY(kernbegrip_id, kern_id)) ENGINE = INNODB;
CREATE TABLE leerlijn_kernbegrip_thema (kernbegrip_id BIGINT, thema_id BIGINT, PRIMARY KEY(kernbegrip_id, thema_id)) ENGINE = INNODB;
CREATE TABLE leerlijn_leergebied (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, description TEXT, image VARCHAR(255), image_desc VARCHAR(255), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE leerlijn_leerjaar (id BIGINT AUTO_INCREMENT, image VARCHAR(255), name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE leerlijn_leerjaar_thema (leerjaar_id BIGINT, thema_id BIGINT, PRIMARY KEY(leerjaar_id, thema_id)) ENGINE = INNODB;
CREATE TABLE leerlijn_niveau (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, image VARCHAR(255), leerjaar_id BIGINT, position BIGINT, UNIQUE INDEX sortable_idx (position), INDEX leerjaar_id_idx (leerjaar_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE leerlijn_sleutelinzicht (id BIGINT AUTO_INCREMENT, description TEXT NOT NULL, image VARCHAR(255), niveau_id BIGINT, kernbegrip_id BIGINT NOT NULL, INDEX kernbegrip_id_idx (kernbegrip_id), INDEX niveau_id_idx (niveau_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE leerlijn_sleutelinzicht_leerjaar (leerjaar_id BIGINT, sleutelinzicht_id BIGINT, PRIMARY KEY(leerjaar_id, sleutelinzicht_id)) ENGINE = INNODB;
CREATE TABLE leerlijn_status (sleutelinzicht_id BIGINT, user_id INT, state VARCHAR(255) DEFAULT 'not_started', PRIMARY KEY(sleutelinzicht_id, user_id)) ENGINE = INNODB;
CREATE TABLE leerlijn_thema (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, description_humanics TEXT, description_arts TEXT, description_science TEXT, description_linguistics TEXT, image VARCHAR(255), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE leerlijn_vak (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, summary VARCHAR(255), description TEXT, image VARCHAR(255), leergebied_id BIGINT NOT NULL, INDEX leergebied_id_idx (leergebied_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_combine (assets_key VARCHAR(32), files LONGTEXT NOT NULL, PRIMARY KEY(assets_key)) ENGINE = INNODB;
CREATE TABLE sf_doctrine_simple_forum_category (id INT AUTO_INCREMENT, name TEXT, stripped_name TEXT, description TEXT, rank BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, deleted_at DATETIME, slug VARCHAR(255), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_doctrine_simple_forum_forum (id INT AUTO_INCREMENT, name TEXT, description TEXT, rank BIGINT, category_id INT, stripped_name VARCHAR(255), latest_post_id INT, nb_posts INT, nb_topics INT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, deleted_at DATETIME, slug VARCHAR(255), INDEX category_id_idx (category_id), INDEX latest_post_id_idx (latest_post_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_doctrine_simple_forum_post (id INT AUTO_INCREMENT, title VARCHAR(255), content TEXT, topic_id INT, is_reply_to_comment TINYINT DEFAULT 0, reply_id BIGINT, user_id INT, forum_id INT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, deleted_at DATETIME, INDEX topic_id_idx (topic_id), INDEX user_id_idx (user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_doctrine_simple_forum_topic (id INT AUTO_INCREMENT, title VARCHAR(255), is_sticked TINYINT(1) DEFAULT '0', is_locked TINYINT(1) DEFAULT '0', forum_id INT, latest_post_id INT, user_id INT, stripped_title VARCHAR(255), nb_posts INT DEFAULT 0, nb_views BIGINT DEFAULT 0, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, deleted_at DATETIME, slug VARCHAR(255), INDEX forum_id_idx (forum_id), INDEX user_id_idx (user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_doctrine_simple_forum_topic_view (id INT AUTO_INCREMENT, user_id INT, topic_id INT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, deleted_at DATETIME, PRIMARY KEY(id, user_id, topic_id)) ENGINE = INNODB;
CREATE TABLE sf_guard_group (id INT AUTO_INCREMENT, name VARCHAR(255) UNIQUE, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_group_permission (group_id INT, permission_id INT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(group_id, permission_id)) ENGINE = INNODB;
CREATE TABLE sf_guard_permission (id INT AUTO_INCREMENT, name VARCHAR(255) UNIQUE, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_remember_key (id INT AUTO_INCREMENT, user_id INT, remember_key VARCHAR(32), ip_address VARCHAR(50), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX user_id_idx (user_id), PRIMARY KEY(id, ip_address)) ENGINE = INNODB;
CREATE TABLE sf_guard_user (id INT AUTO_INCREMENT, username VARCHAR(128) NOT NULL UNIQUE, algorithm VARCHAR(128) DEFAULT 'sha1' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active TINYINT(1) DEFAULT '1', is_super_admin TINYINT(1) DEFAULT '0', last_login DATETIME, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX is_active_idx_idx (is_active), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_user_group (user_id INT, group_id INT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, group_id)) ENGINE = INNODB;
CREATE TABLE sf_guard_user_permission (user_id INT, permission_id INT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, permission_id)) ENGINE = INNODB;
CREATE TABLE sf_guard_user_profile (id BIGINT AUTO_INCREMENT, user_id INT, email VARCHAR(255), first_name VARCHAR(255), last_name VARCHAR(255), preposition VARCHAR(255), is_invite TINYINT(1) DEFAULT '0', INDEX user_id_idx (user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE showcase (id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL, short_title VARCHAR(32) NOT NULL, description TEXT, image TEXT NOT NULL, user_id INT NOT NULL, is_active TINYINT(1) DEFAULT '1' NOT NULL, INDEX user_id_idx (user_id), PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE expert_kernbegrip ADD CONSTRAINT expert_kernbegrip_kernbegrip_id_leerlijn_kernbegrip_id FOREIGN KEY (kernbegrip_id) REFERENCES leerlijn_kernbegrip(id) ON DELETE CASCADE;
ALTER TABLE expert_kernbegrip ADD CONSTRAINT expert_kernbegrip_expert_id_expert_id FOREIGN KEY (expert_id) REFERENCES expert(id) ON DELETE CASCADE;
ALTER TABLE idea_item ADD CONSTRAINT idea_item_parent_id_idea_item_id FOREIGN KEY (parent_id) REFERENCES idea_item(id);
ALTER TABLE idea_response ADD CONSTRAINT idea_response_item_id_idea_item_id FOREIGN KEY (item_id) REFERENCES idea_item(id) ON DELETE CASCADE;
ALTER TABLE leerlijn_domein ADD CONSTRAINT leerlijn_domein_vak_id_leerlijn_vak_id FOREIGN KEY (vak_id) REFERENCES leerlijn_vak(id) ON DELETE CASCADE;
ALTER TABLE leerlijn_eindterm ADD CONSTRAINT leerlijn_eindterm_domein_id_leerlijn_domein_id FOREIGN KEY (domein_id) REFERENCES leerlijn_domein(id) ON DELETE CASCADE;
ALTER TABLE leerlijn_kern ADD CONSTRAINT leerlijn_kern_leergebied_id_leerlijn_leergebied_id FOREIGN KEY (leergebied_id) REFERENCES leerlijn_leergebied(id) ON DELETE CASCADE;
ALTER TABLE leerlijn_kernbegrip_eindterm ADD CONSTRAINT lkli FOREIGN KEY (kernbegrip_id) REFERENCES leerlijn_kernbegrip(id) ON DELETE CASCADE;
ALTER TABLE leerlijn_kernbegrip_eindterm ADD CONSTRAINT leerlijn_kernbegrip_eindterm_eindterm_id_leerlijn_eindterm_id FOREIGN KEY (eindterm_id) REFERENCES leerlijn_eindterm(id) ON DELETE CASCADE;
ALTER TABLE leerlijn_kernbegrip_kern ADD CONSTRAINT leerlijn_kernbegrip_kern_kernbegrip_id_leerlijn_kernbegrip_id FOREIGN KEY (kernbegrip_id) REFERENCES leerlijn_kernbegrip(id) ON DELETE CASCADE;
ALTER TABLE leerlijn_kernbegrip_kern ADD CONSTRAINT leerlijn_kernbegrip_kern_kern_id_leerlijn_kern_id FOREIGN KEY (kern_id) REFERENCES leerlijn_kern(id) ON DELETE CASCADE;
ALTER TABLE leerlijn_kernbegrip_thema ADD CONSTRAINT leerlijn_kernbegrip_thema_thema_id_leerlijn_thema_id FOREIGN KEY (thema_id) REFERENCES leerlijn_thema(id) ON DELETE CASCADE;
ALTER TABLE leerlijn_kernbegrip_thema ADD CONSTRAINT leerlijn_kernbegrip_thema_kernbegrip_id_leerlijn_kernbegrip_id FOREIGN KEY (kernbegrip_id) REFERENCES leerlijn_kernbegrip(id) ON DELETE CASCADE;
ALTER TABLE leerlijn_leerjaar_thema ADD CONSTRAINT leerlijn_leerjaar_thema_thema_id_leerlijn_thema_id FOREIGN KEY (thema_id) REFERENCES leerlijn_thema(id) ON DELETE CASCADE;
ALTER TABLE leerlijn_leerjaar_thema ADD CONSTRAINT leerlijn_leerjaar_thema_leerjaar_id_leerlijn_leerjaar_id FOREIGN KEY (leerjaar_id) REFERENCES leerlijn_leerjaar(id) ON DELETE CASCADE;
ALTER TABLE leerlijn_niveau ADD CONSTRAINT leerlijn_niveau_leerjaar_id_leerlijn_leerjaar_id FOREIGN KEY (leerjaar_id) REFERENCES leerlijn_leerjaar(id);
ALTER TABLE leerlijn_sleutelinzicht ADD CONSTRAINT leerlijn_sleutelinzicht_niveau_id_leerlijn_niveau_id FOREIGN KEY (niveau_id) REFERENCES leerlijn_niveau(id);
ALTER TABLE leerlijn_sleutelinzicht ADD CONSTRAINT leerlijn_sleutelinzicht_kernbegrip_id_leerlijn_kernbegrip_id FOREIGN KEY (kernbegrip_id) REFERENCES leerlijn_kernbegrip(id) ON DELETE CASCADE;
ALTER TABLE leerlijn_sleutelinzicht_leerjaar ADD CONSTRAINT lsli FOREIGN KEY (sleutelinzicht_id) REFERENCES leerlijn_sleutelinzicht(id) ON DELETE CASCADE;
ALTER TABLE leerlijn_sleutelinzicht_leerjaar ADD CONSTRAINT llli FOREIGN KEY (leerjaar_id) REFERENCES leerlijn_leerjaar(id) ON DELETE CASCADE;
ALTER TABLE leerlijn_status ADD CONSTRAINT leerlijn_status_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE leerlijn_status ADD CONSTRAINT leerlijn_status_sleutelinzicht_id_leerlijn_sleutelinzicht_id FOREIGN KEY (sleutelinzicht_id) REFERENCES leerlijn_sleutelinzicht(id) ON DELETE CASCADE;
ALTER TABLE leerlijn_vak ADD CONSTRAINT leerlijn_vak_leergebied_id_leerlijn_leergebied_id FOREIGN KEY (leergebied_id) REFERENCES leerlijn_leergebied(id) ON DELETE CASCADE;
ALTER TABLE sf_doctrine_simple_forum_forum ADD CONSTRAINT slsi FOREIGN KEY (latest_post_id) REFERENCES sf_doctrine_simple_forum_post(id);
ALTER TABLE sf_doctrine_simple_forum_forum ADD CONSTRAINT scsi FOREIGN KEY (category_id) REFERENCES sf_doctrine_simple_forum_category(id) ON DELETE CASCADE;
ALTER TABLE sf_doctrine_simple_forum_post ADD CONSTRAINT stsi FOREIGN KEY (topic_id) REFERENCES sf_doctrine_simple_forum_topic(id) ON DELETE CASCADE;
ALTER TABLE sf_doctrine_simple_forum_post ADD CONSTRAINT sf_doctrine_simple_forum_post_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_doctrine_simple_forum_topic ADD CONSTRAINT sfsi FOREIGN KEY (forum_id) REFERENCES sf_doctrine_simple_forum_forum(id) ON DELETE CASCADE;
ALTER TABLE sf_doctrine_simple_forum_topic ADD CONSTRAINT sf_doctrine_simple_forum_topic_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id);
ALTER TABLE sf_doctrine_simple_forum_topic_view ADD CONSTRAINT stsi_1 FOREIGN KEY (topic_id) REFERENCES sf_doctrine_simple_forum_topic(id) ON DELETE CASCADE;
ALTER TABLE sf_doctrine_simple_forum_topic_view ADD CONSTRAINT sf_doctrine_simple_forum_topic_view_id_sf_guard_user_id FOREIGN KEY (id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_group_permission ADD CONSTRAINT sf_guard_group_permission_permission_id_sf_guard_permission_id FOREIGN KEY (permission_id) REFERENCES sf_guard_permission(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_group_permission ADD CONSTRAINT sf_guard_group_permission_group_id_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES sf_guard_group(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_remember_key ADD CONSTRAINT sf_guard_remember_key_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_group ADD CONSTRAINT sf_guard_user_group_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_group ADD CONSTRAINT sf_guard_user_group_group_id_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES sf_guard_group(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_permission ADD CONSTRAINT sf_guard_user_permission_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_permission ADD CONSTRAINT sf_guard_user_permission_permission_id_sf_guard_permission_id FOREIGN KEY (permission_id) REFERENCES sf_guard_permission(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_profile ADD CONSTRAINT sf_guard_user_profile_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE showcase ADD CONSTRAINT showcase_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id);
